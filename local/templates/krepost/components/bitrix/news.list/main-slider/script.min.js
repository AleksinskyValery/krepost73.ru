!function(){if("function"==typeof window.CustomEvent)return!1;function CustomEvent(event,params){params=params||{bubbles:!1,cancelable:!1,detail:null};var e=document.createEvent("CustomEvent");return e.initCustomEvent(event,params.bubbles,params.cancelable,params.detail),e}window.CustomEvent=CustomEvent}();var WRAPPER_SELECTOR=".slider__wrapper",ITEMS_SELECTOR=".slider__items",ITEM_SELECTOR=".slider__item",ITEM_CLASS_ACTIVE="slider__item_active",CONTROL_SELECTOR=".slider__control",CONTROL_CLASS_SHOW="slider__control_show",INDICATOR_WRAPPER_ELEMENT="ol",INDICATOR_WRAPPER_CLASS="slider__indicators",INDICATOR_ITEM_ELEMENT="li",INDICATOR_ITEM_CLASS="slider__indicator",INDICATOR_ITEM_CLASS_ACTIVE="slider__indicator_active",SWIPE_THRESHOLD=20,TRANSITION_NONE="transition-none";function SimpleAdaptiveSlider(selector,config){for(var key in this._$root=document.querySelector(selector),this._$wrapper=this._$root.querySelector(WRAPPER_SELECTOR),this._$items=this._$root.querySelector(ITEMS_SELECTOR),this._$itemList=this._$root.querySelectorAll(ITEM_SELECTOR),this._currentIndex=0,this._minOrder=0,this._maxOrder=0,this._$itemWithMinOrder=null,this._$itemWithMaxOrder=null,this._minTranslate=0,this._maxTranslate=0,this._direction="next",this._balancingItemsFlag=!1,this._transform=0,this._hasSwipeState=!1,this._swipeStartPosX=0,this._intervalId=null,this._config={loop:!0,autoplay:!1,interval:5e3,swipe:!0},config)this._config.hasOwnProperty(key)&&(this._config[key]=config[key]);for(var i=0,length=this._$itemList.length;i<length;i++)this._$itemList[i].dataset.order=i,this._$itemList[i].dataset.index=i,this._$itemList[i].dataset.translate=0;if(this._config.loop){var count=this._$itemList.length-1,translate=100*-this._$itemList.length;this._$itemList[count].dataset.order=-1,this._$itemList[count].dataset.translate=100*-this._$itemList.length;var transformValue="translateX(".concat(translate,"%)");this._$itemList[count].style.transform=transformValue}this._addIndicators(),this._refreshExtremeValues(),this._setActiveClass(),this._addEventListener(),this._autoplay()}SimpleAdaptiveSlider.prototype._setActiveClass=function(){var i,length,$item,index;for(i=0,length=this._$itemList.length;i<length;i++)$item=this._$itemList[i],index=parseInt($item.dataset.index),this._currentIndex===index?$item.classList.add(ITEM_CLASS_ACTIVE):$item.classList.remove(ITEM_CLASS_ACTIVE);var $indicators=this._$root.querySelectorAll("."+INDICATOR_ITEM_CLASS);if($indicators.length)for(i=0,length=$indicators.length;i<length;i++)$item=$indicators[i],index=parseInt($item.dataset.slideTo),this._currentIndex===index?$item.classList.add(INDICATOR_ITEM_CLASS_ACTIVE):$item.classList.remove(INDICATOR_ITEM_CLASS_ACTIVE);var $controls=this._$root.querySelectorAll(CONTROL_SELECTOR);if($controls.length)if(this._config.loop)for(i=0,length=$controls.length;i<length;i++)$controls[i].classList.add(CONTROL_CLASS_SHOW);else 0===this._currentIndex?($controls[0].classList.remove(CONTROL_CLASS_SHOW),$controls[1].classList.add(CONTROL_CLASS_SHOW)):this._currentIndex===this._$itemList.length-1?($controls[0].classList.add(CONTROL_CLASS_SHOW),$controls[1].classList.remove(CONTROL_CLASS_SHOW)):($controls[0].classList.add(CONTROL_CLASS_SHOW),$controls[1].classList.add(CONTROL_CLASS_SHOW))},SimpleAdaptiveSlider.prototype._move=function(){if("none"===this._direction)return this._$items.classList.remove(TRANSITION_NONE),void(this._$items.style.transform="translateX(".concat(this._transform,"%)"));if(!this._config.loop){var condition;if(this._currentIndex+1>=this._$itemList.length&&"next"===this._direction)return void this._autoplay("stop");if(this._currentIndex<=0&&"prev"===this._direction)return}var step="next"===this._direction?-100:100,transform=this._transform+step;"next"===this._direction?++this._currentIndex>this._$itemList.length-1&&(this._currentIndex-=this._$itemList.length):--this._currentIndex<0&&(this._currentIndex+=this._$itemList.length),this._transform=transform,this._$items.style.transform="translateX(".concat(transform,"%)"),this._setActiveClass()},SimpleAdaptiveSlider.prototype._moveTo=function(index){var currentIndex=this._currentIndex;this._direction=index>currentIndex?"next":"prev";for(var i=0;i<Math.abs(index-currentIndex);i++)this._move()},SimpleAdaptiveSlider.prototype._autoplay=function(action){if(this._config.autoplay)return"stop"===action?(clearInterval(this._intervalId),void(this._intervalId=null)):void(null===this._intervalId&&(this._intervalId=setInterval(function(){this._direction="next",this._move()}.bind(this),this._config.interval)))},SimpleAdaptiveSlider.prototype._addIndicators=function(){if(!this._$root.querySelector("."+INDICATOR_WRAPPER_CLASS)){var $wrapper=document.createElement(INDICATOR_WRAPPER_ELEMENT);$wrapper.className=INDICATOR_WRAPPER_CLASS;for(var i=0,length=this._$itemList.length;i<length;i++){var $item=document.createElement(INDICATOR_ITEM_ELEMENT);$item.className=INDICATOR_ITEM_CLASS,$item.dataset.slideTo=i,$wrapper.appendChild($item)}this._$root.appendChild($wrapper)}},SimpleAdaptiveSlider.prototype._refreshExtremeValues=function(){var $itemList=this._$itemList;this._minOrder=parseInt($itemList[0].dataset.order),this._maxOrder=this._minOrder,this._$itemWithMinOrder=$itemList[0],this._$itemWithMaxOrder=this._$itemWithMinOrder,this._minTranslate=parseInt($itemList[0].dataset.translate),this._maxTranslate=this._minTranslate;for(var i=0,length=$itemList.length;i<length;i++){var $item=$itemList[i],order=parseInt($item.dataset.order);order<this._minOrder?(this._minOrder=order,this._$itemWithMinOrder=$item,this._minTranslate=parseInt($item.dataset.translate)):order>this._maxOrder&&(this._maxOrder=order,this._$itemWithMaxOrder=$item,this._maxTranslate=parseInt($item.dataset.translate))}},SimpleAdaptiveSlider.prototype._balancingItems=function(){if(this._balancingItemsFlag){var $wrapper,wrapperRect=this._$wrapper.getBoundingClientRect(),halfWidthItem=wrapperRect.width/2,count=this._$itemList.length,translate,clientRect;if("next"===this._direction){var wrapperLeft=wrapperRect.left,$min=this._$itemWithMinOrder;translate=this._minTranslate,(clientRect=$min.getBoundingClientRect()).right<wrapperLeft-halfWidthItem&&($min.dataset.order=this._minOrder+count,translate+=100*count,$min.dataset.translate=translate,$min.style.transform="translateX(".concat(translate,"%)"),this._refreshExtremeValues())}else if("prev"===this._direction){var wrapperRight=wrapperRect.right,$max=this._$itemWithMaxOrder;translate=this._maxTranslate,(clientRect=$max.getBoundingClientRect()).left>wrapperRight+halfWidthItem&&($max.dataset.order=this._maxOrder-count,translate-=100*count,$max.dataset.translate=translate,$max.style.transform="translateX(".concat(translate,"%)"),this._refreshExtremeValues())}requestAnimationFrame(this._balancingItems.bind(this))}},SimpleAdaptiveSlider.prototype._addEventListener=function(){var $items=this._$items;function onClick(e){var $target=e.target;if(this._autoplay("stop"),$target.classList.contains("slider__control"))e.preventDefault(),this._direction=$target.dataset.slide,this._move();else if($target.dataset.slideTo){e.preventDefault();var index=parseInt($target.dataset.slideTo);this._moveTo(index)}this._config.loop&&this._autoplay()}function onTransitionStart(){this._balancingItemsFlag=!0,window.requestAnimationFrame(this._balancingItems.bind(this))}function onTransitionEnd(){this._balancingItemsFlag=!1,this._$root.dispatchEvent(new CustomEvent("slider.transition.end",{bubbles:!0}))}function onMouseEnter(){this._autoplay("stop")}function onMouseLeave(){this._config.loop&&this._autoplay()}function onSwipeStart(e){this._autoplay("stop");var event=0===e.type.search("touch")?e.touches[0]:e;this._swipeStartPosX=event.clientX,this._swipeStartPosY=event.clientY,this._hasSwipeState=!0,this._hasSwiping=!1}function onSwipeMove(e){if(this._hasSwipeState){var event=0===e.type.search("touch")?e.touches[0]:e,diffPosX=this._swipeStartPosX-event.clientX,diffPosY=this._swipeStartPosY-event.clientY;if(!this._hasSwiping){if(Math.abs(diffPosY)>Math.abs(diffPosX))return void(this._hasSwipeState=!1);this._hasSwiping=!0}e.preventDefault(),this._config.loop||(this._currentIndex+1>=this._$itemList.length&&diffPosX>=0&&(diffPosX/=4),this._currentIndex<=0&&diffPosX<=0&&(diffPosX/=4));var value=diffPosX/this._$wrapper.getBoundingClientRect().width*100,translateX=this._transform-value;this._$items.classList.add(TRANSITION_NONE),this._$items.style.transform="translateX(".concat(translateX,"%)")}}function onSwipeEnd(e){if(this._hasSwipeState){var event=0===e.type.search("touch")?e.changedTouches[0]:e,diffPosX=this._swipeStartPosX-event.clientX;this._config.loop||(this._currentIndex+1>=this._$itemList.length&&diffPosX>=0&&(diffPosX/=4),this._currentIndex<=0&&diffPosX<=0&&(diffPosX/=4));var value=diffPosX/this._$wrapper.getBoundingClientRect().width*100;this._$items.classList.remove(TRANSITION_NONE),value>SWIPE_THRESHOLD?(this._direction="next",this._move()):value<-SWIPE_THRESHOLD?(this._direction="prev",this._move()):(this._direction="none",this._move()),this._hasSwipeState=!1,this._config.loop&&this._autoplay()}}function onDragStart(e){e.preventDefault()}function onVisibilityChange(){"hidden"===document.visibilityState?this._autoplay("stop"):"visible"===document.visibilityState&&this._config.loop&&this._autoplay()}if(this._$root.addEventListener("click",onClick.bind(this)),this._config.loop&&($items.addEventListener("transitionstart",onTransitionStart.bind(this)),$items.addEventListener("transitionend",onTransitionEnd.bind(this))),this._config.autoplay&&(this._$root.addEventListener("mouseenter",onMouseEnter.bind(this)),this._$root.addEventListener("mouseleave",onMouseLeave.bind(this))),this._config.swipe){var supportsPassive=!1;try{var opts=Object.defineProperty({},"passive",{get:function(){supportsPassive=!0}});window.addEventListener("testPassiveListener",null,opts)}catch(err){}this._$root.addEventListener("touchstart",onSwipeStart.bind(this),!!supportsPassive&&{passive:!1}),this._$root.addEventListener("touchmove",onSwipeMove.bind(this),!!supportsPassive&&{passive:!1}),this._$root.addEventListener("mousedown",onSwipeStart.bind(this)),this._$root.addEventListener("mousemove",onSwipeMove.bind(this)),document.addEventListener("touchend",onSwipeEnd.bind(this)),document.addEventListener("mouseup",onSwipeEnd.bind(this))}this._$root.addEventListener("dragstart",onDragStart.bind(this)),document.addEventListener("visibilitychange",onVisibilityChange.bind(this))},SimpleAdaptiveSlider.prototype.next=function(){this._direction="next",this._move()},SimpleAdaptiveSlider.prototype.prev=function(){this._direction="prev",this._move()},SimpleAdaptiveSlider.prototype.autoplay=function(action){this._autoplay("stop")};