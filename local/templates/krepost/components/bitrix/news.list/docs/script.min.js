!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):(global=global||self).GLightbox=factory()}(this,(function(){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function getLen(v){return Math.sqrt(v.x*v.x+v.y*v.y)}function dot(v1,v2){return v1.x*v2.x+v1.y*v2.y}function getAngle(v1,v2){var mr=getLen(v1)*getLen(v2);if(0===mr)return 0;var r=dot(v1,v2)/mr;return r>1&&(r=1),Math.acos(r)}function cross(v1,v2){return v1.x*v2.y-v2.x*v1.y}function getRotateAngle(v1,v2){var angle=getAngle(v1,v2);return cross(v1,v2)>0&&(angle*=-1),180*angle/Math.PI}var EventsHandlerAdmin=function(){function EventsHandlerAdmin(el){_classCallCheck(this,EventsHandlerAdmin),this.handlers=[],this.el=el}return _createClass(EventsHandlerAdmin,[{key:"add",value:function add(handler){this.handlers.push(handler)}},{key:"del",value:function del(handler){handler||(this.handlers=[]);for(var i=this.handlers.length;i>=0;i--)this.handlers[i]===handler&&this.handlers.splice(i,1)}},{key:"dispatch",value:function dispatch(){for(var i=0,len=this.handlers.length;i<len;i++){var handler=this.handlers[i];"function"==typeof handler&&handler.apply(this.el,arguments)}}}]),EventsHandlerAdmin}();function wrapFunc(el,handler){var EventshandlerAdmin=new EventsHandlerAdmin(el);return EventshandlerAdmin.add(handler),EventshandlerAdmin}var TouchEvents=function(){function TouchEvents(el,option){_classCallCheck(this,TouchEvents),this.element="string"==typeof el?document.querySelector(el):el,this.start=this.start.bind(this),this.move=this.move.bind(this),this.end=this.end.bind(this),this.cancel=this.cancel.bind(this),this.element.addEventListener("touchstart",this.start,!1),this.element.addEventListener("touchmove",this.move,!1),this.element.addEventListener("touchend",this.end,!1),this.element.addEventListener("touchcancel",this.cancel,!1),this.preV={x:null,y:null},this.pinchStartLen=null,this.zoom=1,this.isDoubleTap=!1;var noop=function noop(){};this.rotate=wrapFunc(this.element,option.rotate||noop),this.touchStart=wrapFunc(this.element,option.touchStart||noop),this.multipointStart=wrapFunc(this.element,option.multipointStart||noop),this.multipointEnd=wrapFunc(this.element,option.multipointEnd||noop),this.pinch=wrapFunc(this.element,option.pinch||noop),this.swipe=wrapFunc(this.element,option.swipe||noop),this.tap=wrapFunc(this.element,option.tap||noop),this.doubleTap=wrapFunc(this.element,option.doubleTap||noop),this.longTap=wrapFunc(this.element,option.longTap||noop),this.singleTap=wrapFunc(this.element,option.singleTap||noop),this.pressMove=wrapFunc(this.element,option.pressMove||noop),this.twoFingerPressMove=wrapFunc(this.element,option.twoFingerPressMove||noop),this.touchMove=wrapFunc(this.element,option.touchMove||noop),this.touchEnd=wrapFunc(this.element,option.touchEnd||noop),this.touchCancel=wrapFunc(this.element,option.touchCancel||noop),this._cancelAllHandler=this.cancelAll.bind(this),window.addEventListener("scroll",this._cancelAllHandler),this.delta=null,this.last=null,this.now=null,this.tapTimeout=null,this.singleTapTimeout=null,this.longTapTimeout=null,this.swipeTimeout=null,this.x1=this.x2=this.y1=this.y2=null,this.preTapPosition={x:null,y:null}}return _createClass(TouchEvents,[{key:"start",value:function start(evt){if(evt.touches){this.now=Date.now(),this.x1=evt.touches[0].pageX,this.y1=evt.touches[0].pageY,this.delta=this.now-(this.last||this.now),this.touchStart.dispatch(evt,this.element),null!==this.preTapPosition.x&&(this.isDoubleTap=this.delta>0&&this.delta<=250&&Math.abs(this.preTapPosition.x-this.x1)<30&&Math.abs(this.preTapPosition.y-this.y1)<30,this.isDoubleTap&&clearTimeout(this.singleTapTimeout)),this.preTapPosition.x=this.x1,this.preTapPosition.y=this.y1,this.last=this.now;var preV=this.preV,len;if(evt.touches.length>1){this._cancelLongTap(),this._cancelSingleTap();var v={x:evt.touches[1].pageX-this.x1,y:evt.touches[1].pageY-this.y1};preV.x=v.x,preV.y=v.y,this.pinchStartLen=getLen(preV),this.multipointStart.dispatch(evt,this.element)}this._preventTap=!1,this.longTapTimeout=setTimeout(function(){this.longTap.dispatch(evt,this.element),this._preventTap=!0}.bind(this),750)}}},{key:"move",value:function move(evt){if(evt.touches){var preV=this.preV,len=evt.touches.length,currentX=evt.touches[0].pageX,currentY=evt.touches[0].pageY;if(this.isDoubleTap=!1,len>1){var sCurrentX=evt.touches[1].pageX,sCurrentY=evt.touches[1].pageY,v={x:evt.touches[1].pageX-currentX,y:evt.touches[1].pageY-currentY};null!==preV.x&&(this.pinchStartLen>0&&(evt.zoom=getLen(v)/this.pinchStartLen,this.pinch.dispatch(evt,this.element)),evt.angle=getRotateAngle(v,preV),this.rotate.dispatch(evt,this.element)),preV.x=v.x,preV.y=v.y,null!==this.x2&&null!==this.sx2?(evt.deltaX=(currentX-this.x2+sCurrentX-this.sx2)/2,evt.deltaY=(currentY-this.y2+sCurrentY-this.sy2)/2):(evt.deltaX=0,evt.deltaY=0),this.twoFingerPressMove.dispatch(evt,this.element),this.sx2=sCurrentX,this.sy2=sCurrentY}else{if(null!==this.x2){evt.deltaX=currentX-this.x2,evt.deltaY=currentY-this.y2;var movedX=Math.abs(this.x1-this.x2),movedY=Math.abs(this.y1-this.y2);(movedX>10||movedY>10)&&(this._preventTap=!0)}else evt.deltaX=0,evt.deltaY=0;this.pressMove.dispatch(evt,this.element)}this.touchMove.dispatch(evt,this.element),this._cancelLongTap(),this.x2=currentX,this.y2=currentY,len>1&&evt.preventDefault()}}},{key:"end",value:function end(evt){if(evt.changedTouches){this._cancelLongTap();var self=this;evt.touches.length<2&&(this.multipointEnd.dispatch(evt,this.element),this.sx2=this.sy2=null),this.x2&&Math.abs(this.x1-this.x2)>30||this.y2&&Math.abs(this.y1-this.y2)>30?(evt.direction=this._swipeDirection(this.x1,this.x2,this.y1,this.y2),this.swipeTimeout=setTimeout((function(){self.swipe.dispatch(evt,self.element)}),0)):(this.tapTimeout=setTimeout((function(){self._preventTap||self.tap.dispatch(evt,self.element),self.isDoubleTap&&(self.doubleTap.dispatch(evt,self.element),self.isDoubleTap=!1)}),0),self.isDoubleTap||(self.singleTapTimeout=setTimeout((function(){self.singleTap.dispatch(evt,self.element)}),250))),this.touchEnd.dispatch(evt,this.element),this.preV.x=0,this.preV.y=0,this.zoom=1,this.pinchStartLen=null,this.x1=this.x2=this.y1=this.y2=null}}},{key:"cancelAll",value:function cancelAll(){this._preventTap=!0,clearTimeout(this.singleTapTimeout),clearTimeout(this.tapTimeout),clearTimeout(this.longTapTimeout),clearTimeout(this.swipeTimeout)}},{key:"cancel",value:function cancel(evt){this.cancelAll(),this.touchCancel.dispatch(evt,this.element)}},{key:"_cancelLongTap",value:function _cancelLongTap(){clearTimeout(this.longTapTimeout)}},{key:"_cancelSingleTap",value:function _cancelSingleTap(){clearTimeout(this.singleTapTimeout)}},{key:"_swipeDirection",value:function _swipeDirection(x1,x2,y1,y2){return Math.abs(x1-x2)>=Math.abs(y1-y2)?x1-x2>0?"Left":"Right":y1-y2>0?"Up":"Down"}},{key:"on",value:function on(evt,handler){this[evt]&&this[evt].add(handler)}},{key:"off",value:function off(evt,handler){this[evt]&&this[evt].del(handler)}},{key:"destroy",value:function destroy(){return this.singleTapTimeout&&clearTimeout(this.singleTapTimeout),this.tapTimeout&&clearTimeout(this.tapTimeout),this.longTapTimeout&&clearTimeout(this.longTapTimeout),this.swipeTimeout&&clearTimeout(this.swipeTimeout),this.element.removeEventListener("touchstart",this.start),this.element.removeEventListener("touchmove",this.move),this.element.removeEventListener("touchend",this.end),this.element.removeEventListener("touchcancel",this.cancel),this.rotate.del(),this.touchStart.del(),this.multipointStart.del(),this.multipointEnd.del(),this.pinch.del(),this.swipe.del(),this.tap.del(),this.doubleTap.del(),this.longTap.del(),this.singleTap.del(),this.pressMove.del(),this.twoFingerPressMove.del(),this.touchMove.del(),this.touchEnd.del(),this.touchCancel.del(),this.preV=this.pinchStartLen=this.zoom=this.isDoubleTap=this.delta=this.last=this.now=this.tapTimeout=this.singleTapTimeout=this.longTapTimeout=this.swipeTimeout=this.x1=this.x2=this.y1=this.y2=this.preTapPosition=this.rotate=this.touchStart=this.multipointStart=this.multipointEnd=this.pinch=this.swipe=this.tap=this.doubleTap=this.longTap=this.singleTap=this.pressMove=this.touchMove=this.touchEnd=this.touchCancel=this.twoFingerPressMove=null,window.removeEventListener("scroll",this._cancelAllHandler),null}}]),TouchEvents}(),ZoomImages=function(){function ZoomImages(el,slide){var _this=this,onclose=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(_classCallCheck(this,ZoomImages),this.img=el,this.slide=slide,this.onclose=onclose,this.img.setZoomEvents)return!1;this.active=!1,this.zoomedIn=!1,this.dragging=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.img.addEventListener("mousedown",(function(e){return _this.dragStart(e)}),!1),this.img.addEventListener("mouseup",(function(e){return _this.dragEnd(e)}),!1),this.img.addEventListener("mousemove",(function(e){return _this.drag(e)}),!1),this.img.addEventListener("click",(function(e){if(!_this.zoomedIn)return _this.zoomIn();_this.zoomedIn&&!_this.dragging&&_this.zoomOut()}),!1),this.img.setZoomEvents=!0}return _createClass(ZoomImages,[{key:"zoomIn",value:function zoomIn(){var winWidth=this.widowWidth();if(!(this.zoomedIn||winWidth<=768)){var img=this.img;if(img.setAttribute("data-style",img.getAttribute("style")),img.style.maxWidth=img.naturalWidth+"px",img.style.maxHeight=img.naturalHeight+"px",img.naturalWidth>winWidth){var centerX=winWidth/2-img.naturalWidth/2;this.setTranslate(this.img.parentNode,centerX,0)}this.slide.classList.add("zoomed"),this.zoomedIn=!0}}},{key:"zoomOut",value:function zoomOut(){this.img.parentNode.setAttribute("style",""),this.img.setAttribute("style",this.img.getAttribute("data-style")),this.slide.classList.remove("zoomed"),this.zoomedIn=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.onclose&&"function"==typeof this.onclose&&this.onclose()}},{key:"dragStart",value:function dragStart(e){e.preventDefault(),this.zoomedIn?("touchstart"===e.type?(this.initialX=e.touches[0].clientX-this.xOffset,this.initialY=e.touches[0].clientY-this.yOffset):(this.initialX=e.clientX-this.xOffset,this.initialY=e.clientY-this.yOffset),e.target===this.img&&(this.active=!0,this.img.classList.add("dragging"))):this.active=!1}},{key:"dragEnd",value:function dragEnd(e){var _this2=this;e.preventDefault(),this.initialX=this.currentX,this.initialY=this.currentY,this.active=!1,setTimeout((function(){_this2.dragging=!1,_this2.img.isDragging=!1,_this2.img.classList.remove("dragging")}),100)}},{key:"drag",value:function drag(e){this.active&&(e.preventDefault(),"touchmove"===e.type?(this.currentX=e.touches[0].clientX-this.initialX,this.currentY=e.touches[0].clientY-this.initialY):(this.currentX=e.clientX-this.initialX,this.currentY=e.clientY-this.initialY),this.xOffset=this.currentX,this.yOffset=this.currentY,this.img.isDragging=!0,this.dragging=!0,this.setTranslate(this.img,this.currentX,this.currentY))}},{key:"onMove",value:function onMove(e){if(this.zoomedIn){var xOffset=e.clientX-this.img.naturalWidth/2,yOffset=e.clientY-this.img.naturalHeight/2;this.setTranslate(this.img,xOffset,yOffset)}}},{key:"setTranslate",value:function setTranslate(node,xPos,yPos){node.style.transform="translate3d("+xPos+"px, "+yPos+"px, 0)"}},{key:"widowWidth",value:function widowWidth(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}}]),ZoomImages}(),isMobile=navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i),isTouch=null!==isMobile||void 0!==document.createTouch||"ontouchstart"in window||"onmsgesturechange"in window||navigator.msMaxTouchPoints,html=document.getElementsByTagName("html")[0],transitionEnd=whichTransitionEvent(),animationEnd=whichAnimationEvent(),uid=Date.now(),videoPlayers={},defaults={selector:"glightbox",elements:null,skin:"clean",closeButton:!0,startAt:null,autoplayVideos:!0,descPosition:"bottom",width:900,height:506,videosWidth:960,beforeSlideChange:null,afterSlideChange:null,beforeSlideLoad:null,afterSlideLoad:null,onOpen:null,onClose:null,loopAtEnd:!1,touchNavigation:!0,keyboardNavigation:!0,closeOnOutsideClick:!0,plyr:{css:"https://cdn.plyr.io/3.5.6/plyr.css",js:"https://cdn.plyr.io/3.5.6/plyr.js",ratio:"16:9",config:{youtube:{noCookie:!0,rel:0,showinfo:0,iv_load_policy:3},vimeo:{byline:!1,portrait:!1,title:!1,transparent:!1}}},openEffect:"zoomIn",closeEffect:"zoomOut",slideEffect:"slide",moreText:"See more",moreLength:60,lightboxHtml:"",cssEfects:{fade:{in:"fadeIn",out:"fadeOut"},zoom:{in:"zoomIn",out:"zoomOut"},slide:{in:"slideInRight",out:"slideOutLeft"},slide_back:{in:"slideInLeft",out:"slideOutRight"}},svg:{close:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve"><g><g><path d="M505.943,6.058c-8.077-8.077-21.172-8.077-29.249,0L6.058,476.693c-8.077,8.077-8.077,21.172,0,29.249C10.096,509.982,15.39,512,20.683,512c5.293,0,10.586-2.019,14.625-6.059L505.943,35.306C514.019,27.23,514.019,14.135,505.943,6.058z"/></g></g><g><g><path d="M505.942,476.694L35.306,6.059c-8.076-8.077-21.172-8.077-29.248,0c-8.077,8.076-8.077,21.171,0,29.248l470.636,470.636c4.038,4.039,9.332,6.058,14.625,6.058c5.293,0,10.587-2.019,14.624-6.057C514.018,497.866,514.018,484.771,505.942,476.694z"/></g></g></svg>',next:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 477.175 477.175" xml:space="preserve"> <g><path d="M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z"/></g></svg>',prev:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 477.175 477.175" xml:space="preserve"><g><path d="M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z"/></g></svg>'}},lightboxSlideHtml='<div class="gslide">\n    <div class="gslide-inner-content">\n        <div class="ginner-container">\n            <div class="gslide-media">\n            </div>\n            <div class="gslide-description">\n                <div class="gdesc-inner">\n                    <h4 class="gslide-title"></h4>\n                    <div class="gslide-desc"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>';defaults.slideHtml=lightboxSlideHtml;var lightboxHtml='<div id="glightbox-body" class="glightbox-container">\n    <div class="gloader visible"></div>\n    <div class="goverlay"></div>\n    <div class="gcontainer">\n    <div id="glightbox-slider" class="gslider"></div>\n    <button class="gnext gbtn" tabindex="0">{nextSVG}</button>\n    <button class="gprev gbtn" tabindex="1">{prevSVG}</button>\n    <button class="gclose gbtn" tabindex="2">{closeSVG}</button>\n</div>\n</div>';function extend(){var extended={},deep=!1,i=0,length=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(deep=arguments[0],i++);for(var merge=function merge(obj){for(var prop in obj)Object.prototype.hasOwnProperty.call(obj,prop)&&(deep&&"[object Object]"===Object.prototype.toString.call(obj[prop])?extended[prop]=extend(!0,extended[prop],obj[prop]):extended[prop]=obj[prop])};i<length;i++){var obj=arguments[i];merge(obj)}return extended}defaults.lightboxHtml=lightboxHtml;var utils={isFunction:function isFunction(f){return"function"==typeof f},isString:function isString(s){return"string"==typeof s},isNode:function isNode(el){return!(!el||!el.nodeType||1!=el.nodeType)},isArray:function isArray(ar){return Array.isArray(ar)},isArrayLike:function isArrayLike(ar){return ar&&ar.length&&isFinite(ar.length)},isObject:function isObject(o){var type;return"object"===_typeof(o)&&null!=o&&!utils.isFunction(o)&&!utils.isArray(o)},isNil:function isNil(o){return null==o},has:function has(obj,key){return null!==obj&&hasOwnProperty.call(obj,key)},size:function size(o){if(utils.isObject(o)){if(o.keys)return o.keys().length;var l=0;for(var k in o)utils.has(o,k)&&l++;return l}return o.length},isNumber:function isNumber(n){return!isNaN(parseFloat(n))&&isFinite(n)}};function each(collection,callback){if((utils.isNode(collection)||collection===window||collection===document)&&(collection=[collection]),utils.isArrayLike(collection)||utils.isObject(collection)||(collection=[collection]),0!=utils.size(collection))if(utils.isArrayLike(collection)&&!utils.isObject(collection))for(var l=collection.length,i=0;i<l&&!1!==callback.call(collection[i],collection[i],i,collection);i++);else if(utils.isObject(collection))for(var key in collection)if(utils.has(collection,key)&&!1===callback.call(collection[key],collection[key],key,collection))break}function getNodeEvents(node){var name=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,fn=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,cache=node[uid]=node[uid]||[],data={all:cache,evt:null,found:null};return name&&fn&&utils.size(cache)>0&&each(cache,(function(cl,i){if(cl.eventName==name&&cl.fn.toString()==fn.toString())return data.found=!0,data.evt=i,!1})),data}function addEvent(eventName){var _ref=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},onElement=_ref.onElement,withCallback=_ref.withCallback,_ref$avoidDuplicate=_ref.avoidDuplicate,avoidDuplicate=void 0===_ref$avoidDuplicate||_ref$avoidDuplicate,_ref$once=_ref.once,once=void 0!==_ref$once&&_ref$once,_ref$useCapture=_ref.useCapture,useCapture=void 0!==_ref$useCapture&&_ref$useCapture,thisArg=arguments.length>2?arguments[2]:void 0,element=onElement||[];function handler(event){utils.isFunction(withCallback)&&withCallback.call(thisArg,event,this),once&&handler.destroy()}return utils.isString(element)&&(element=document.querySelectorAll(element)),handler.destroy=function(){each(element,(function(el){var events=getNodeEvents(el,eventName,handler);events.found&&events.all.splice(events.evt,1),el.removeEventListener&&el.removeEventListener(eventName,handler,useCapture)}))},each(element,(function(el){var events=getNodeEvents(el,eventName,handler);(el.addEventListener&&avoidDuplicate&&!events.found||!avoidDuplicate)&&(el.addEventListener(eventName,handler,useCapture),events.all.push({eventName:eventName,fn:handler}))})),handler}function addClass(node,name){each(name.split(" "),(function(cl){return node.classList.add(cl)}))}function removeClass(node,name){each(name.split(" "),(function(cl){return node.classList.remove(cl)}))}function hasClass(node,name){return node.classList.contains(name)}function whichAnimationEvent(){var t,el=document.createElement("fakeelement"),animations={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(t in animations)if(void 0!==el.style[t])return animations[t]}function whichTransitionEvent(){var t,el=document.createElement("fakeelement"),transitions={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in transitions)if(void 0!==el.style[t])return transitions[t]}function animateElement(element){var animation=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",callback=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!element||""===animation)return!1;if("none"==animation)return utils.isFunction(callback)&&callback(),!1;var animationNames=animation.split(" ");each(animationNames,(function(name){addClass(element,"g"+name)})),addEvent(animationEnd,{onElement:element,avoidDuplicate:!1,once:!0,withCallback:function withCallback(event,target){each(animationNames,(function(name){removeClass(target,"g"+name)})),utils.isFunction(callback)&&callback()}})}function createHTML(htmlStr){var frag=document.createDocumentFragment(),temp=document.createElement("div");for(temp.innerHTML=htmlStr;temp.firstChild;)frag.appendChild(temp.firstChild);return frag}function getClosest(elem,selector){for(;elem!==document.body;){var matches;if("function"==typeof(elem=elem.parentElement).matches?elem.matches(selector):elem.msMatchesSelector(selector))return elem}}function show(element){element.style.display="block"}function hide(element){element.style.display="none"}function windowSize(){return{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}}function handleMediaFullScreen(event){if(hasClass(event.target,"plyr--html5")){var media=getClosest(event.target,".gslide-media");"enterfullscreen"==event.type&&addClass(media,"fullscreen"),"exitfullscreen"==event.type&&removeClass(media,"fullscreen")}}var getSlideData=function getSlideData(){var element=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,settings=arguments.length>1?arguments[1]:void 0,data={href:"",title:"",type:"",description:"",descPosition:settings.descPosition,effect:"",width:"",height:"",node:element};if(utils.isObject(element)&&!utils.isNode(element))return extend(data,element);var url="",config=element.getAttribute("data-glightbox"),nodeType=element.nodeName.toLowerCase();if("a"===nodeType&&(url=element.href),"img"===nodeType&&(url=element.src),data.href=url,each(data,(function(val,key){utils.has(settings,key)&&"width"!==key&&(data[key]=settings[key]);var nodeData=element.dataset[key];utils.isNil(nodeData)||(data[key]=nodeData)})),data.type||(data.type=getSourceType(url)),utils.isNil(config)){if("a"==nodeType){var title=element.title;utils.isNil(title)||""===title||(data.title=title)}if("img"==nodeType){var alt=element.alt;utils.isNil(alt)||""===alt||(data.title=alt)}var desc=element.getAttribute("data-description");utils.isNil(desc)||""===desc||(data.description=desc)}else{var cleanKeys=[];each(data,(function(v,k){cleanKeys.push(";\\s?"+k)})),cleanKeys=cleanKeys.join("\\s?:|"),""!==config.trim()&&each(data,(function(val,key){var str=config,match,regex=new RegExp("s?"+key+"s?:s?(.*?)("+cleanKeys+"s?:|$)"),matches=str.match(regex);if(matches&&matches.length&&matches[1]){var value=matches[1].trim().replace(/;\s*$/,"");data[key]=value}}))}if(data.description&&"."==data.description.substring(0,1)&&document.querySelector(data.description))data.description=document.querySelector(data.description).innerHTML;else{var nodeDesc=element.querySelector(".glightbox-desc");nodeDesc&&(data.description=nodeDesc.innerHTML)}var defaultWith="video"==data.type?settings.videosWidth:settings.width,defaultHeight=settings.height;return data.width=utils.has(data,"width")&&""!==data.width?data.width:defaultWith,data.height=utils.has(data,"height")&&""!==data.height?data.height:defaultHeight,data},setSlideContent=function setSlideContent(){var _this=this,slide=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,data=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},callback=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(hasClass(slide,"loaded"))return!1;utils.isFunction(this.settings.beforeSlideLoad)&&this.settings.beforeSlideLoad(slide,data);var type=data.type,position=data.descPosition,slideMedia=slide.querySelector(".gslide-media"),slideTitle=slide.querySelector(".gslide-title"),slideText=slide.querySelector(".gslide-desc"),slideDesc=slide.querySelector(".gdesc-inner"),finalCallback=callback;if(utils.isFunction(this.settings.afterSlideLoad)&&(finalCallback=function finalCallback(){utils.isFunction(callback)&&callback(),_this.settings.afterSlideLoad(slide,data)}),""==data.title&&""==data.description?slideDesc&&slideDesc.parentNode.parentNode.removeChild(slideDesc.parentNode):(slideTitle&&""!==data.title?slideTitle.innerHTML=data.title:slideTitle.parentNode.removeChild(slideTitle),slideText&&""!==data.description?isMobile&&this.settings.moreLength>0?(data.smallDescription=slideShortDesc(data.description,this.settings.moreLength,this.settings.moreText),slideText.innerHTML=data.smallDescription,slideDescriptionEvents.apply(this,[slideText,data])):slideText.innerHTML=data.description:slideText.parentNode.removeChild(slideText),addClass(slideMedia.parentNode,"desc-".concat(position)),addClass(slideDesc.parentNode,"description-".concat(position))),addClass(slideMedia,"gslide-".concat(type)),addClass(slide,"loaded"),"video"===type)return addClass(slideMedia.parentNode,"gvideo-container"),slideMedia.insertBefore(createHTML('<div class="gvideo-wrapper"></div>'),slideMedia.firstChild),void setSlideVideo.apply(this,[slide,data,finalCallback]);if("external"===type){var iframe=createIframe({url:data.href,width:data.width,height:data.height,callback:finalCallback});return slideMedia.parentNode.style.maxWidth="".concat(data.width,"px"),void slideMedia.appendChild(iframe)}if("inline"!==type){if("image"===type){var img=new Image;return img.addEventListener("load",(function(){!isMobile&&img.naturalWidth>img.offsetWidth&&(addClass(img,"zoomable"),new ZoomImages(img,slide,(function(){_this.resize(slide)}))),utils.isFunction(finalCallback)&&finalCallback()}),!1),img.src=data.href,void slideMedia.insertBefore(img,slideMedia.firstChild)}utils.isFunction(finalCallback)&&finalCallback()}else setInlineContent.apply(this,[slide,data,finalCallback])};function setSlideVideo(slide,data,callback){var _this2=this,videoID="gvideo"+data.index,slideMedia=slide.querySelector(".gvideo-wrapper");injectVideoApi(this.settings.plyr.css);var url=data.href,protocol=location.protocol.replace(":",""),videoSource="",embedID="",customPlaceholder=!1;"file"==protocol&&(protocol="http"),slideMedia.parentNode.style.maxWidth="".concat(data.width,"px"),injectVideoApi(this.settings.plyr.js,"Plyr",(function(){if(url.match(/vimeo\.com\/([0-9]*)/)){var vimeoID=/vimeo.*\/(\d+)/i.exec(url);videoSource="vimeo",embedID=vimeoID[1]}if(url.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||url.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/)||url.match(/(youtube\.com|youtube-nocookie\.com)\/embed\/([a-zA-Z0-9\-_]+)/)){var youtubeID=getYoutubeID(url);videoSource="youtube",embedID=youtubeID}if(null!==url.match(/\.(mp4|ogg|webm)$/)){videoSource="local";var _html='<video id="'+videoID+'" ';_html+='style="background:#000; max-width: '.concat(data.width,'px;" '),_html+='preload="metadata" ',_html+='x-webkit-airplay="allow" ',_html+='webkit-playsinline="" ',_html+="controls ",_html+='class="gvideo-local">';var format=url.toLowerCase().split(".").pop(),sources={mp4:"",ogg:"",webm:""};for(var key in sources[format]=url,sources)if(sources.hasOwnProperty(key)){var videoFile=sources[key];data.hasOwnProperty(key)&&(videoFile=data[key]),""!==videoFile&&(_html+='<source src="'.concat(videoFile,'" type="video/').concat(key,'">'))}customPlaceholder=createHTML(_html+="</video>")}var placeholder=customPlaceholder||createHTML('<div id="'.concat(videoID,'" data-plyr-provider="').concat(videoSource,'" data-plyr-embed-id="').concat(embedID,'"></div>'));addClass(slideMedia,"".concat(videoSource,"-video gvideo")),slideMedia.appendChild(placeholder),slideMedia.setAttribute("data-id",videoID);var playerConfig=utils.has(_this2.settings.plyr,"config")?_this2.settings.plyr.config:{},player=new Plyr("#"+videoID,playerConfig);player.on("ready",(function(event){var instance=event.detail.plyr;videoPlayers[videoID]=instance,utils.isFunction(callback)&&callback()})),player.on("enterfullscreen",handleMediaFullScreen),player.on("exitfullscreen",handleMediaFullScreen)}))}function createIframe(config){var url=config.url,width=config.width,height=config.height,allow=config.allow,callback=config.callback,appendTo=config.appendTo,iframe=document.createElement("iframe"),winWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;return iframe.className="vimeo-video gvideo",iframe.src=url,height&&(iframe.style.height=isMobile&&winWidth<767?"":"".concat(height,"px")),width&&(iframe.style.width="".concat(width,"px")),allow&&iframe.setAttribute("allow",allow),iframe.onload=function(){addClass(iframe,"node-ready"),utils.isFunction(callback)&&callback()},appendTo&&appendTo.appendChild(iframe),iframe}function getYoutubeID(url){var videoID="";return videoID=void 0!==(url=url.replace(/(>|<)/gi,"").split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/))[2]?(videoID=url[2].split(/[^0-9a-z_\-]/i))[0]:url}function injectVideoApi(url,waitFor,callback){if(utils.isNil(url))console.error("Inject videos api error");else{var found;if(utils.isFunction(waitFor)&&(callback=waitFor,waitFor=!1),-1!==url.indexOf(".css")){if((found=document.querySelectorAll('link[href="'+url+'"]'))&&found.length>0)return void(utils.isFunction(callback)&&callback());var head=document.getElementsByTagName("head")[0],headStyles=head.querySelectorAll('link[rel="stylesheet"]'),link=document.createElement("link");return link.rel="stylesheet",link.type="text/css",link.href=url,link.media="all",headStyles?head.insertBefore(link,headStyles[0]):head.appendChild(link),void(utils.isFunction(callback)&&callback())}if((found=document.querySelectorAll('script[src="'+url+'"]'))&&found.length>0){if(utils.isFunction(callback)){if(utils.isString(waitFor))return waitUntil((function(){return void 0!==window[waitFor]}),(function(){callback()})),!1;callback()}}else{var script=document.createElement("script");script.type="text/javascript",script.src=url,script.onload=function(){if(utils.isFunction(callback)){if(utils.isString(waitFor))return waitUntil((function(){return void 0!==window[waitFor]}),(function(){callback()})),!1;callback()}},document.body.appendChild(script)}}}function waitUntil(check,onComplete,delay,timeout){if(check())onComplete();else{var timeoutPointer;delay||(delay=100);var intervalPointer=setInterval((function(){check()&&(clearInterval(intervalPointer),timeoutPointer&&clearTimeout(timeoutPointer),onComplete())}),delay);timeout&&(timeoutPointer=setTimeout((function(){clearInterval(intervalPointer)}),timeout))}}function setInlineContent(slide,data,callback){var _this3=this,slideMedia=slide.querySelector(".gslide-media"),hash=data.href.split("#").pop().trim(),div=document.getElementById(hash);if(!div)return!1;var cloned=div.cloneNode(!0);cloned.style.height=utils.isNumber(data.height)?"".concat(data.height,"px"):data.height,cloned.style.maxWidth=utils.isNumber(data.width)?"".concat(data.width,"px"):data.width,addClass(cloned,"ginlined-content"),slideMedia.appendChild(cloned),this.events["inlineclose"+hash]=addEvent("click",{onElement:slideMedia.querySelectorAll(".gtrigger-close"),withCallback:function withCallback(e){e.preventDefault(),_this3.close()}}),utils.isFunction(callback)&&callback()}var getSourceType=function getSourceType(url){var origin=url,hash;if(null!==(url=url.toLowerCase()).match(/\.(jpeg|jpg|gif|png|apn|webp|svg)$/))return"image";if(url.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||url.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/)||url.match(/(youtube\.com|youtube-nocookie\.com)\/embed\/([a-zA-Z0-9\-_]+)/))return"video";if(url.match(/vimeo\.com\/([0-9]*)/))return"video";if(null!==url.match(/\.(mp4|ogg|webm)$/))return"video";if(url.indexOf("#")>-1&&""!==origin.split("#").pop().trim())return"inline";return url.includes("gajax=true")?"ajax":"external"};function keyboardNavigation(){var _this4=this;if(this.events.hasOwnProperty("keyboard"))return!1;this.events.keyboard=addEvent("keydown",{onElement:window,withCallback:function withCallback(event,target){var key=(event=event||window.event).keyCode;if(9==key){event.preventDefault();var btns=document.querySelectorAll(".gbtn");if(!btns||btns.length<=0)return;var focused=_toConsumableArray(btns).filter((function(item){return hasClass(item,"focused")}));if(!focused.length){var first=document.querySelector('.gbtn[tabindex="0"]');return void(first&&(first.focus(),addClass(first,"focused")))}btns.forEach((function(element){return removeClass(element,"focused")}));var tabindex=focused[0].getAttribute("tabindex");tabindex=tabindex||"0";var newIndex=parseInt(tabindex)+1;newIndex>btns.length-1&&(newIndex="0");var next=document.querySelector('.gbtn[tabindex="'.concat(newIndex,'"]'));next&&(next.focus(),addClass(next,"focused"))}39==key&&_this4.nextSlide(),37==key&&_this4.prevSlide(),27==key&&_this4.close()}})}function touchNavigation(){var _this5=this;if(this.events.hasOwnProperty("touch"))return!1;var winSize=windowSize(),winWidth=winSize.width,winHeight=winSize.height,process=!1,currentSlide=null,media=null,mediaImage=null,doingMove=!1,initScale=1,maxScale=4.5,currentScale=1,doingZoom=!1,imageZoomed=!1,zoomedPosX=null,zoomedPosY=null,lastZoomedPosX=null,lastZoomedPosY=null,hDistance,vDistance,hDistancePercent=0,vDistancePercent=0,vSwipe=!1,hSwipe=!1,startCoords={},endCoords={},xDown=0,yDown=0,isInlined,instance=this,sliderWrapper=document.getElementById("glightbox-slider"),overlay=document.querySelector(".goverlay"),touchInstance=new TouchEvents(sliderWrapper,{touchStart:function touchStart(e){if(hasClass(e.targetTouches[0].target,"ginner-container"))return process=!1,!1;process=!0,endCoords=e.targetTouches[0],startCoords.pageX=e.targetTouches[0].pageX,startCoords.pageY=e.targetTouches[0].pageY,xDown=e.targetTouches[0].clientX,yDown=e.targetTouches[0].clientY,currentSlide=instance.activeSlide,media=currentSlide.querySelector(".gslide-media"),isInlined=currentSlide.querySelector(".gslide-inline"),mediaImage=null,hasClass(media,"gslide-image")&&(mediaImage=media.querySelector("img")),removeClass(overlay,"greset")},touchMove:function touchMove(e){if(process&&(endCoords=e.targetTouches[0],!doingZoom&&!imageZoomed)){if(isInlined&&isInlined.offsetHeight>winHeight){var moved=startCoords.pageX-endCoords.pageX;if(Math.abs(moved)<=13)return!1}doingMove=!0;var xUp=e.targetTouches[0].clientX,yUp=e.targetTouches[0].clientY,xDiff=xDown-xUp,yDiff=yDown-yUp,opacity;if(Math.abs(xDiff)>Math.abs(yDiff)?(vSwipe=!1,hSwipe=!0):(hSwipe=!1,vSwipe=!0),hDistance=endCoords.pageX-startCoords.pageX,hDistancePercent=100*hDistance/winWidth,vDistance=endCoords.pageY-startCoords.pageY,vDistancePercent=100*vDistance/winHeight,vSwipe&&mediaImage&&(opacity=1-Math.abs(vDistance)/winHeight,overlay.style.opacity=opacity),hSwipe&&(opacity=1-Math.abs(hDistance)/winWidth,media.style.opacity=opacity),!mediaImage)return slideCSSTransform(media,"translate3d(".concat(hDistancePercent,"%, 0, 0)"));slideCSSTransform(media,"translate3d(".concat(hDistancePercent,"%, ").concat(vDistancePercent,"%, 0)"))}},touchEnd:function touchEnd(){if(process){if(doingMove=!1,imageZoomed||doingZoom)return lastZoomedPosX=zoomedPosX,void(lastZoomedPosY=zoomedPosY);var v=Math.abs(parseInt(vDistancePercent)),h=Math.abs(parseInt(hDistancePercent));if(!(v>35&&mediaImage))return v<35&&h<25?(addClass(overlay,"greset"),overlay.style.opacity=1,resetSlideMove(media)):void 0;_this5.close()}},multipointEnd:function multipointEnd(){setTimeout((function(){doingZoom=!1}),50)},multipointStart:function multipointStart(){doingZoom=!0,initScale=currentScale||1},pinch:function pinch(evt){if(!mediaImage||doingMove)return!1;doingZoom=!0,mediaImage.scaleX=mediaImage.scaleY=initScale*evt.zoom;var scale=initScale*evt.zoom;if(imageZoomed=!0,scale<=1)return imageZoomed=!1,scale=1,lastZoomedPosY=null,lastZoomedPosX=null,zoomedPosX=null,zoomedPosY=null,void mediaImage.setAttribute("style","");scale>4.5&&(scale=4.5),mediaImage.style.transform="scale3d(".concat(scale,", ").concat(scale,", 1)"),currentScale=scale},pressMove:function pressMove(e){if(imageZoomed&&!doingZoom){var mhDistance=endCoords.pageX-startCoords.pageX,mvDistance=endCoords.pageY-startCoords.pageY;lastZoomedPosX&&(mhDistance+=lastZoomedPosX),lastZoomedPosY&&(mvDistance+=lastZoomedPosY),zoomedPosX=mhDistance,zoomedPosY=mvDistance;var style="translate3d(".concat(mhDistance,"px, ").concat(mvDistance,"px, 0)");currentScale&&(style+=" scale3d(".concat(currentScale,", ").concat(currentScale,", 1)")),slideCSSTransform(mediaImage,style)}},swipe:function swipe(evt){if(!imageZoomed)if(doingZoom)doingZoom=!1;else{if("Left"==evt.direction){if(_this5.index==_this5.elements.length-1)return resetSlideMove(media);_this5.nextSlide()}if("Right"==evt.direction){if(0==_this5.index)return resetSlideMove(media);_this5.prevSlide()}}}});this.events.touch=touchInstance}function slideCSSTransform(slide){var translate=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(""==translate)return slide.style.webkitTransform="",slide.style.MozTransform="",slide.style.msTransform="",slide.style.OTransform="",slide.style.transform="",!1;slide.style.webkitTransform=translate,slide.style.MozTransform=translate,slide.style.msTransform=translate,slide.style.OTransform=translate,slide.style.transform=translate}function resetSlideMove(slide){var media=hasClass(slide,"gslide-media")?slide:slide.querySelector(".gslide-media"),desc=slide.querySelector(".gslide-description");addClass(media,"greset"),slideCSSTransform(media,"translate3d(0, 0, 0)");var animation=addEvent(transitionEnd,{onElement:media,once:!0,withCallback:function withCallback(event,target){removeClass(media,"greset")}});media.style.opacity="",desc&&(desc.style.opacity="")}function slideShortDesc(string){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,wordBoundary=arguments.length>2&&void 0!==arguments[2]&&arguments[2],useWordBoundary=wordBoundary;if((string=string.trim()).length<=n)return string;var subString=string.substr(0,n-1);return useWordBoundary?subString+'... <a href="#" class="desc-more">'+wordBoundary+"</a>":subString}function slideDescriptionEvents(desc,data){var moreLink=desc.querySelector(".desc-more");if(!moreLink)return!1;addEvent("click",{onElement:moreLink,withCallback:function withCallback(event,target){event.preventDefault();var body=document.body,desc=getClosest(target,".gslide-desc");if(!desc)return!1;desc.innerHTML=data.description,addClass(body,"gdesc-open");var shortEvent=addEvent("click",{onElement:[body,getClosest(desc,".gslide-description")],withCallback:function withCallback(event,target){"a"!==event.target.nodeName.toLowerCase()&&(removeClass(body,"gdesc-open"),addClass(body,"gdesc-closed"),desc.innerHTML=data.smallDescription,slideDescriptionEvents(desc,data),setTimeout((function(){removeClass(body,"gdesc-closed")}),400),shortEvent.destroy())}})}})}var GlightboxInit=function(){function GlightboxInit(options){_classCallCheck(this,GlightboxInit),this.settings=extend(defaults,options||{}),this.effectsClasses=this.getAnimationClasses(),this.slidesData={}}return _createClass(GlightboxInit,[{key:"init",value:function init(){var _this6=this;this.baseEvents=addEvent("click",{onElement:".".concat(this.settings.selector),withCallback:function withCallback(e,target){e.preventDefault(),_this6.open(target)}})}},{key:"open",value:function open(){var element=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.elements=this.getElements(element),0==this.elements.length)return!1;this.activeSlide=null,this.prevActiveSlideIndex=null,this.prevActiveSlide=null;var index=this.settings.startAt;element&&utils.isNil(index)&&(index=this.elements.indexOf(element))<0&&(index=0),utils.isNil(index)&&(index=0),this.build(),animateElement(this.overlay,"none"==this.settings.openEffect?"none":this.settings.cssEfects.fade.in);var body=document.body;if(body.style.width="".concat(body.offsetWidth,"px"),addClass(body,"glightbox-open"),addClass(html,"glightbox-open"),isMobile&&(addClass(document.body,"glightbox-mobile"),this.settings.slideEffect="slide"),this.showSlide(index,!0),1==this.elements.length?(hide(this.prevButton),hide(this.nextButton)):(show(this.prevButton),show(this.nextButton)),this.lightboxOpen=!0,utils.isFunction(this.settings.onOpen)&&this.settings.onOpen(),isMobile&&isTouch&&this.settings.touchNavigation)return touchNavigation.apply(this),!1;this.settings.keyboardNavigation&&keyboardNavigation.apply(this)}},{key:"showSlide",value:function showSlide(){var _this7=this,index=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,first=arguments.length>1&&void 0!==arguments[1]&&arguments[1];show(this.loader),this.index=parseInt(index);var current=this.slidesContainer.querySelector(".current");current&&removeClass(current,"current"),this.slideAnimateOut();var slide=this.slidesContainer.querySelectorAll(".gslide")[index];if(hasClass(slide,"loaded"))this.slideAnimateIn(slide,first),hide(this.loader);else{show(this.loader);var slideData=getSlideData(this.elements[index],this.settings);slideData.index=index,this.slidesData[index]=slideData,setSlideContent.apply(this,[slide,slideData,function(){hide(_this7.loader),_this7.resize(),_this7.slideAnimateIn(slide,first)}])}this.slideDescription=slide.querySelector(".gslide-description"),this.slideDescriptionContained=this.slideDescription&&hasClass(this.slideDescription.parentNode,"gslide-media"),this.preloadSlide(index+1),this.preloadSlide(index-1),removeClass(this.nextButton,"disabled"),removeClass(this.prevButton,"disabled"),0===index?addClass(this.prevButton,"disabled"):index===this.elements.length-1&&!0!==this.settings.loopAtEnd&&addClass(this.nextButton,"disabled"),this.activeSlide=slide}},{key:"preloadSlide",value:function preloadSlide(index){var _this8=this;if(index<0||index>this.elements.length)return!1;if(utils.isNil(this.elements[index]))return!1;var slide=this.slidesContainer.querySelectorAll(".gslide")[index];if(hasClass(slide,"loaded"))return!1;var slideData=getSlideData(this.elements[index],this.settings);slideData.index=index,this.slidesData[index]=slideData;var type=slideData.sourcetype;"video"==type||"external"==type?setTimeout((function(){setSlideContent.apply(_this8,[slide,slideData])}),200):setSlideContent.apply(this,[slide,slideData])}},{key:"prevSlide",value:function prevSlide(){var prev=this.index-1;if(prev<0)return!1;this.goToSlide(prev)}},{key:"nextSlide",value:function nextSlide(){var next=this.index+1;if(next>this.elements.length)return!1;this.goToSlide(next)}},{key:"goToSlide",value:function goToSlide(){var index=arguments.length>0&&void 0!==arguments[0]&&arguments[0];index>-1&&(this.prevActiveSlide=this.activeSlide,this.prevActiveSlideIndex=this.index,index<this.elements.length?this.showSlide(index):!0===this.settings.loopAtEnd&&(index=0,this.showSlide(index)))}},{key:"slideAnimateIn",value:function slideAnimateIn(slide,first){var _this9=this,slideMedia=slide.querySelector(".gslide-media"),slideDesc=slide.querySelector(".gslide-description"),prevData={index:this.prevActiveSlideIndex,slide:this.prevActiveSlide},nextData={index:this.index,slide:this.activeSlide};if(slideMedia.offsetWidth>0&&slideDesc&&(hide(slideDesc),slideDesc.style.display=""),removeClass(slide,this.effectsClasses),first)animateElement(slide,this.settings.openEffect,(function(){!isMobile&&_this9.settings.autoplayVideos&&_this9.playSlideVideo(slide),utils.isFunction(_this9.settings.afterSlideChange)&&_this9.settings.afterSlideChange.apply(_this9,[prevData,nextData])}));else{var effect_name=this.settings.slideEffect,animIn="none"!==effect_name?this.settings.cssEfects[effect_name].in:effect_name;this.prevActiveSlideIndex>this.index&&"slide"==this.settings.slideEffect&&(animIn=this.settings.cssEfects.slide_back.in),animateElement(slide,animIn,(function(){!isMobile&&_this9.settings.autoplayVideos&&_this9.playSlideVideo(slide),utils.isFunction(_this9.settings.afterSlideChange)&&_this9.settings.afterSlideChange.apply(_this9,[prevData,nextData])}))}setTimeout((function(){_this9.resize(slide)}),100),addClass(slide,"current")}},{key:"slideAnimateOut",value:function slideAnimateOut(){if(!this.prevActiveSlide)return!1;var prevSlide=this.prevActiveSlide;removeClass(prevSlide,this.effectsClasses),addClass(prevSlide,"prev");var animation=this.settings.slideEffect,animOut="none"!==animation?this.settings.cssEfects[animation].out:animation;this.stopSlideVideo(prevSlide),utils.isFunction(this.settings.beforeSlideChange)&&this.settings.beforeSlideChange.apply(this,[{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide},{index:this.index,slide:this.activeSlide}]),this.prevActiveSlideIndex>this.index&&"slide"==this.settings.slideEffect&&(animOut=this.settings.cssEfects.slide_back.out),animateElement(prevSlide,animOut,(function(){var media=prevSlide.querySelector(".gslide-media"),desc=prevSlide.querySelector(".gslide-description");media.style.transform="",removeClass(media,"greset"),media.style.opacity="",desc&&(desc.style.opacity=""),removeClass(prevSlide,"prev")}))}},{key:"stopSlideVideo",value:function stopSlideVideo(slide){utils.isNumber(slide)&&(slide=this.slidesContainer.querySelectorAll(".gslide")[slide]);var slideVideo=slide?slide.querySelector(".gvideo"):null;if(!slideVideo)return!1;var videoID=slideVideo.getAttribute("data-id");if(videoPlayers&&utils.has(videoPlayers,videoID)){var api=videoPlayers[videoID];api&&api.play&&api.pause()}}},{key:"playSlideVideo",value:function playSlideVideo(slide){utils.isNumber(slide)&&(slide=this.slidesContainer.querySelectorAll(".gslide")[slide]);var slideVideo=slide.querySelector(".gvideo");if(!slideVideo)return!1;var videoID=slideVideo.getAttribute("data-id");if(videoPlayers&&utils.has(videoPlayers,videoID)){var api=videoPlayers[videoID];api&&api.play&&api.play()}}},{key:"setElements",value:function setElements(elements){this.settings.elements=elements}},{key:"getElements",value:function getElements(){var element=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.elements=[],!utils.isNil(this.settings.elements)&&utils.isArray(this.settings.elements))return this.settings.elements;var nodes=!1;if(null!==element){var gallery=element.getAttribute("data-gallery");gallery&&""!==gallery&&(nodes=document.querySelectorAll('[data-gallery="'.concat(gallery,'"]')))}return 0==nodes&&(nodes=document.querySelectorAll(".".concat(this.settings.selector))),nodes=Array.prototype.slice.call(nodes)}},{key:"getActiveSlide",value:function getActiveSlide(){return this.slidesContainer.querySelectorAll(".gslide")[this.index]}},{key:"getActiveSlideIndex",value:function getActiveSlideIndex(){return this.index}},{key:"getAnimationClasses",value:function getAnimationClasses(){var effects=[];for(var key in this.settings.cssEfects)if(this.settings.cssEfects.hasOwnProperty(key)){var effect=this.settings.cssEfects[key];effects.push("g".concat(effect.in)),effects.push("g".concat(effect.out))}return effects.join(" ")}},{key:"build",value:function build(){var _this10=this;if(this.built)return!1;var nextSVG=utils.has(this.settings.svg,"next")?this.settings.svg.next:"",prevSVG=utils.has(this.settings.svg,"prev")?this.settings.svg.prev:"",closeSVG=utils.has(this.settings.svg,"close")?this.settings.svg.close:"",lightboxHTML=this.settings.lightboxHtml;lightboxHTML=createHTML(lightboxHTML=(lightboxHTML=(lightboxHTML=lightboxHTML.replace(/{nextSVG}/g,nextSVG)).replace(/{prevSVG}/g,prevSVG)).replace(/{closeSVG}/g,closeSVG)),document.body.appendChild(lightboxHTML);var modal=document.getElementById("glightbox-body");this.modal=modal;var closeButton=modal.querySelector(".gclose");this.prevButton=modal.querySelector(".gprev"),this.nextButton=modal.querySelector(".gnext"),this.overlay=modal.querySelector(".goverlay"),this.loader=modal.querySelector(".gloader"),this.slidesContainer=document.getElementById("glightbox-slider"),this.events={},addClass(this.modal,"glightbox-"+this.settings.skin),this.settings.closeButton&&closeButton&&(this.events.close=addEvent("click",{onElement:closeButton,withCallback:function withCallback(e,target){e.preventDefault(),_this10.close()}})),closeButton&&!this.settings.closeButton&&closeButton.parentNode.removeChild(closeButton),this.nextButton&&(this.events.next=addEvent("click",{onElement:this.nextButton,withCallback:function withCallback(e,target){e.preventDefault(),_this10.nextSlide()}})),this.prevButton&&(this.events.prev=addEvent("click",{onElement:this.prevButton,withCallback:function withCallback(e,target){e.preventDefault(),_this10.prevSlide()}})),this.settings.closeOnOutsideClick&&(this.events.outClose=addEvent("click",{onElement:modal,withCallback:function withCallback(e,target){hasClass(document.body,"glightbox-mobile")||getClosest(e.target,".ginner-container")||getClosest(e.target,".gbtn")||hasClass(e.target,"gnext")||hasClass(e.target,"gprev")||_this10.close()}})),each(this.elements,(function(){var slide=createHTML(_this10.settings.slideHtml);_this10.slidesContainer.appendChild(slide)})),isTouch&&addClass(document.body,"glightbox-touch"),this.events.resize=addEvent("resize",{onElement:window,withCallback:function withCallback(){_this10.resize()}}),this.built=!0}},{key:"resize",value:function resize(){var slide=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(slide=slide||this.activeSlide,document.body.style.width="",document.body.style.width="".concat(document.body.offsetWidth,"px"),slide&&!hasClass(slide,"zoomed")){var winSize=windowSize(),video=slide.querySelector(".gvideo-wrapper"),image=slide.querySelector(".gslide-image"),description=this.slideDescription,winWidth=winSize.width,winHeight=winSize.height;if(winWidth<=768?addClass(document.body,"glightbox-mobile"):removeClass(document.body,"glightbox-mobile"),video||image){var descriptionResize=!1;if(description&&(hasClass(description,"description-bottom")||hasClass(description,"description-top"))&&!hasClass(description,"gabsolute")&&(descriptionResize=!0),image)if(winWidth<=768){var imgNode=image.querySelector("img");imgNode.setAttribute("style","")}else if(descriptionResize){var descHeight=description.offsetHeight,maxWidth=this.slidesData[this.index].width;maxWidth=maxWidth<=winWidth?maxWidth+"px":"100%";var _imgNode=image.querySelector("img");_imgNode.setAttribute("style","max-height: calc(100vh - ".concat(descHeight,"px)")),description.setAttribute("style","max-width: ".concat(_imgNode.offsetWidth,"px;"))}if(video){var videoRatio=this.settings.plyr.ratio.split(":"),_maxWidth=this.slidesData[this.index].width,maxHeight=_maxWidth/(parseInt(videoRatio[0])/parseInt(videoRatio[1]));if(maxHeight=Math.floor(maxHeight),descriptionResize&&(winHeight-=description.offsetHeight),winHeight<maxHeight&&winWidth>_maxWidth){var vwidth=video.offsetWidth,vheight=video.offsetHeight,ratio=winHeight/vheight,vsize={width:vwidth*ratio,height:vheight*ratio};video.parentNode.setAttribute("style","max-width: ".concat(vsize.width,"px")),descriptionResize&&description.setAttribute("style","max-width: ".concat(vsize.width,"px;"))}else video.parentNode.style.maxWidth="".concat(_maxWidth,"px"),descriptionResize&&description.setAttribute("style","max-width: ".concat(_maxWidth,"px;"))}}}}},{key:"reload",value:function reload(){this.init()}},{key:"close",value:function close(){var _this11=this;if(this.closing)return!1;this.closing=!0,this.stopSlideVideo(this.activeSlide),addClass(this.modal,"glightbox-closing"),animateElement(this.overlay,"none"==this.settings.openEffect?"none":this.settings.cssEfects.fade.out),animateElement(this.activeSlide,this.settings.closeEffect,(function(){if(_this11.activeSlide=null,_this11.prevActiveSlideIndex=null,_this11.prevActiveSlide=null,_this11.built=!1,_this11.events){for(var key in _this11.events)_this11.events.hasOwnProperty(key)&&_this11.events[key].destroy();_this11.events=null}var body=document.body;removeClass(html,"glightbox-open"),removeClass(body,"glightbox-open touching gdesc-open glightbox-touch glightbox-mobile"),body.style.width="",_this11.modal.parentNode.removeChild(_this11.modal),utils.isFunction(_this11.settings.onClose)&&_this11.settings.onClose(),_this11.closing=null}))}},{key:"destroy",value:function destroy(){this.close(),this.baseEvents.destroy()}}]),GlightboxInit}();function glightbox(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},instance=new GlightboxInit(options);return instance.init(),instance}return glightbox}));